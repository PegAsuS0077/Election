import { useMemo } from "react";
import { parties } from "./mockData";
import type { ConstituencyResult, Province } from "./mockData";

// Real geographic SVG paths for Nepal's 7 provinces, projected from nepal-geojson package
// (Acesmndr/nepal-geojson) to viewBox 0 0 900 450. Simplified with RDP (epsilon=0.5).
const PROVINCE_PATHS: Record<Province, { d: string; labelX: number; labelY: number }> = {
  Koshi: {
    labelX: 801,
    labelY: 348,
    d: `M 681.1,348.0 L 684.0,349.4 L 688.1,347.1 L 691.1,349.2 L 695.9,350.2 L 696.4,352.9 L 701.3,355.6 L 699.1,359.6 L 696.5,359.5 L 694.7,362.7 L 692.5,363.4 L 698.1,364.5 L 697.4,367.5 L 699.1,370.2 L 700.8,371.3 L 699.8,372.7 L 699.1,377.2 L 697.6,378.9 L 692.8,379.1 L 690.4,380.1 L 689.4,382.4 L 698.4,384.8 L 703.3,385.0 L 708.5,387.1 L 720.3,387.2 L 721.9,388.7 L 722.2,390.9 L 724.6,394.4 L 724.9,399.0 L 731.9,402.8 L 731.3,406.2 L 733.3,408.4 L 734.7,408.2 L 736.3,406.5 L 739.3,406.0 L 741.8,408.7 L 745.9,406.2 L 749.6,405.8 L 750.8,406.1 L 751.2,408.0 L 752.1,408.1 L 757.9,403.9 L 759.1,399.9 L 761.3,402.6 L 764.5,403.3 L 765.3,405.6 L 771.3,405.3 L 769.3,410.6 L 766.0,413.6 L 764.8,415.9 L 758.8,429.8 L 760.6,429.8 L 761.5,426.5 L 767.4,426.2 L 770.2,425.0 L 773.0,421.8 L 773.6,419.3 L 775.2,419.3 L 776.4,419.5 L 776.3,422.9 L 778.6,434.1 L 783.1,437.4 L 786.5,438.8 L 788.5,439.0 L 790.1,437.7 L 791.6,437.7 L 792.6,438.8 L 794.7,437.7 L 796.7,438.0 L 797.6,438.8 L 797.4,441.6 L 798.0,442.4 L 802.7,442.6 L 805.8,444.8 L 807.8,443.6 L 807.5,440.9 L 808.8,438.5 L 811.4,437.1 L 815.6,437.0 L 819.0,435.2 L 822.7,435.5 L 828.5,437.3 L 830.3,439.4 L 834.7,441.4 L 836.5,440.2 L 840.1,440.0 L 840.2,438.6 L 842.8,438.2 L 843.2,435.7 L 844.9,435.6 L 849.3,438.5 L 850.3,437.4 L 852.2,438.3 L 853.7,437.0 L 853.7,433.9 L 855.3,433.1 L 855.4,432.0 L 857.9,432.7 L 860.1,434.2 L 859.9,435.0 L 861.7,435.4 L 863.4,433.8 L 863.1,432.5 L 866.5,430.2 L 868.5,433.0 L 867.8,434.1 L 870.3,434.6 L 869.5,435.9 L 870.8,437.5 L 877.7,440.2 L 877.7,442.1 L 878.5,443.1 L 881.3,443.3 L 882.5,440.8 L 886.8,438.1 L 889.2,435.2 L 890.2,431.3 L 888.8,427.8 L 889.9,426.4 L 889.7,424.6 L 890.7,423.9 L 890.2,422.6 L 890.9,421.0 L 892.9,420.6 L 894.2,415.7 L 896.3,413.4 L 897.1,407.6 L 899.0,403.5 L 899.2,399.5 L 896.9,392.4 L 897.5,389.3 L 893.3,385.9 L 894.2,383.8 L 891.5,380.3 L 892.8,376.7 L 890.8,376.4 L 888.2,374.1 L 886.9,371.3 L 884.7,371.7 L 882.5,371.0 L 880.2,367.2 L 880.7,365.7 L 877.1,362.9 L 877.3,361.3 L 879.0,359.7 L 880.2,356.7 L 879.6,356.0 L 879.8,351.9 L 881.7,348.0 L 882.0,344.6 L 885.4,339.2 L 883.1,335.0 L 883.8,331.2 L 886.4,329.1 L 885.3,325.9 L 883.2,323.9 L 883.1,321.7 L 884.8,320.1 L 885.2,318.3 L 884.6,317.7 L 886.9,314.7 L 887.0,312.6 L 890.5,310.0 L 891.7,306.1 L 894.1,303.8 L 895.1,301.2 L 894.6,299.7 L 895.5,296.2 L 897.8,295.2 L 898.5,291.9 L 899.6,290.6 L 897.5,287.1 L 899.1,286.7 L 900.5,285.0 L 899.3,283.6 L 893.6,280.6 L 891.8,280.6 L 889.0,282.2 L 888.1,282.0 L 887.2,279.2 L 885.0,280.0 L 881.7,278.0 L 876.0,279.9 L 870.6,276.8 L 863.2,277.3 L 862.5,273.6 L 860.2,273.2 L 858.9,274.5 L 859.0,276.3 L 854.6,278.8 L 853.7,280.8 L 853.9,282.4 L 852.5,283.1 L 848.0,288.7 L 845.9,288.1 L 841.4,288.5 L 841.5,285.2 L 838.3,285.5 L 835.4,287.9 L 834.5,286.8 L 833.1,287.0 L 832.6,283.3 L 830.3,282.0 L 828.9,282.3 L 827.4,284.5 L 821.9,284.3 L 818.1,286.7 L 812.8,285.7 L 815.7,284.3 L 814.6,282.8 L 809.2,284.4 L 807.9,286.2 L 803.3,286.4 L 801.7,284.8 L 797.0,283.7 L 794.4,285.3 L 793.4,287.0 L 786.6,286.6 L 780.7,284.5 L 780.1,281.4 L 778.0,280.1 L 776.8,276.7 L 774.1,275.3 L 772.6,273.3 L 761.4,271.8 L 760.3,268.9 L 756.2,267.7 L 754.6,266.7 L 753.6,264.8 L 752.0,264.7 L 750.3,266.0 L 747.2,265.2 L 745.4,265.6 L 743.7,263.7 L 741.5,263.7 L 741.3,260.7 L 742.5,259.5 L 741.2,259.0 L 740.8,257.3 L 739.5,256.6 L 734.1,256.2 L 731.7,257.1 L 730.3,259.5 L 728.2,260.0 L 725.5,259.6 L 725.1,257.0 L 721.6,255.7 L 720.4,256.5 L 720.8,258.2 L 720.1,259.3 L 720.7,260.4 L 719.3,262.0 L 717.1,262.8 L 717.0,264.8 L 715.2,267.7 L 715.5,270.6 L 714.8,271.1 L 715.8,273.9 L 717.3,274.1 L 720.2,276.7 L 719.4,278.8 L 719.5,283.3 L 718.2,287.5 L 721.1,288.8 L 720.8,292.6 L 721.6,293.8 L 717.7,300.6 L 712.6,300.7 L 709.1,303.0 L 708.8,305.5 L 706.6,309.9 L 700.3,313.9 L 697.9,318.5 L 696.0,319.2 L 693.5,322.1 L 687.6,326.4 L 683.1,333.8 L 683.6,335.2 L 682.6,339.2 L 684.9,342.1 L 685.2,343.8 L 682.1,346.2 L 681.1,348.0 Z`,
  },
  Madhesh: {
    labelX: 633,
    labelY: 386,
    d: `M 491.7,336.6 L 507.7,339.0 L 515.0,350.6 L 513.8,356.8 L 514.7,358.2 L 513.4,364.3 L 510.3,367.6 L 510.5,370.3 L 522.2,374.5 L 525.2,373.3 L 526.4,375.5 L 528.1,374.5 L 528.5,373.1 L 531.1,372.7 L 533.2,374.1 L 533.2,376.2 L 536.7,378.1 L 541.5,378.5 L 545.2,379.8 L 546.1,381.4 L 545.4,383.8 L 549.1,384.6 L 548.5,385.6 L 549.8,386.2 L 555.0,387.0 L 553.7,388.7 L 552.4,388.8 L 552.0,390.6 L 552.6,390.8 L 557.9,390.7 L 558.6,390.4 L 558.4,389.3 L 561.3,388.8 L 570.2,389.2 L 570.1,392.8 L 568.5,395.4 L 570.5,399.5 L 572.6,400.8 L 582.1,401.3 L 585.9,402.4 L 588.1,400.6 L 590.1,400.6 L 593.6,397.4 L 598.7,398.3 L 602.0,396.2 L 603.3,396.4 L 604.6,394.7 L 606.3,394.8 L 608.6,392.6 L 611.3,391.7 L 612.6,390.0 L 613.5,391.4 L 617.3,388.9 L 618.6,388.8 L 619.9,391.1 L 626.4,392.8 L 628.7,394.8 L 629.7,397.7 L 629.7,403.0 L 628.7,406.3 L 628.8,410.0 L 630.1,411.5 L 629.6,412.2 L 631.2,413.7 L 637.2,415.3 L 638.7,417.5 L 640.3,417.4 L 640.7,416.4 L 642.5,417.1 L 643.1,418.2 L 642.5,421.2 L 646.3,419.2 L 648.3,417.2 L 650.8,416.6 L 650.6,415.9 L 652.7,416.1 L 654.0,412.4 L 661.3,410.9 L 665.9,411.8 L 671.0,414.5 L 673.8,414.9 L 675.1,416.9 L 679.6,416.3 L 680.1,418.5 L 681.6,418.8 L 684.2,419.0 L 685.4,417.0 L 688.8,415.9 L 695.5,415.9 L 696.3,417.3 L 701.5,418.4 L 702.0,419.6 L 708.2,421.4 L 713.1,424.0 L 717.9,424.3 L 720.8,428.5 L 726.3,430.1 L 727.7,432.0 L 734.3,433.7 L 735.7,435.3 L 739.4,436.8 L 743.3,433.0 L 750.1,435.0 L 753.3,433.2 L 756.8,432.5 L 756.6,430.2 L 758.9,429.7 L 764.8,415.9 L 766.0,413.6 L 769.3,410.6 L 771.3,405.5 L 765.3,405.6 L 764.5,403.3 L 761.3,402.6 L 759.1,399.9 L 757.9,403.9 L 752.1,408.1 L 751.2,408.0 L 750.8,406.1 L 749.6,405.8 L 745.9,406.2 L 741.8,408.7 L 739.3,406.0 L 736.3,406.5 L 734.7,408.2 L 733.3,408.4 L 731.3,406.2 L 731.9,402.8 L 724.9,399.0 L 724.6,394.4 L 722.2,390.9 L 721.9,388.7 L 720.3,387.2 L 708.5,387.1 L 703.3,385.0 L 698.4,384.8 L 689.0,382.1 L 687.5,383.9 L 687.2,382.4 L 682.9,380.2 L 679.0,376.9 L 671.1,373.4 L 657.8,372.2 L 655.8,369.8 L 654.9,366.6 L 652.7,365.1 L 651.7,361.8 L 646.3,359.4 L 643.8,361.3 L 641.3,359.6 L 641.5,357.8 L 640.7,357.3 L 638.7,357.7 L 628.9,354.3 L 625.3,355.5 L 623.3,357.6 L 618.9,359.9 L 602.6,359.6 L 602.7,358.2 L 604.3,357.1 L 604.2,356.1 L 602.6,357.5 L 599.9,357.5 L 597.9,355.1 L 592.8,354.0 L 592.6,353.0 L 588.8,352.4 L 587.5,351.3 L 583.0,350.3 L 578.2,350.9 L 576.3,348.3 L 569.5,348.6 L 569.0,347.2 L 565.6,345.9 L 562.3,341.1 L 560.3,339.9 L 558.7,336.2 L 555.6,335.8 L 551.4,336.9 L 549.3,336.6 L 549.2,335.9 L 546.4,336.8 L 543.4,336.3 L 538.2,334.8 L 537.6,333.7 L 533.0,332.2 L 530.6,330.2 L 528.4,330.2 L 526.5,328.2 L 520.1,327.5 L 518.1,328.9 L 510.7,329.2 L 509.6,327.6 L 508.1,327.0 L 500.8,325.6 L 499.5,329.0 L 497.9,330.6 L 499.5,331.4 L 498.3,331.8 L 498.5,333.7 L 494.6,334.3 L 491.7,336.6 Z`,
  },
  Bagmati: {
    labelX: 600,
    labelY: 300,
    d: `M 430.3,318.5 L 430.6,319.7 L 431.7,320.1 L 434.4,318.7 L 435.9,319.6 L 435.3,321.1 L 432.7,322.8 L 432.7,325.9 L 431.8,327.1 L 433.7,327.9 L 438.6,327.6 L 441.7,328.6 L 445.2,327.4 L 446.7,323.9 L 449.5,322.5 L 450.3,319.5 L 451.7,319.4 L 452.9,320.3 L 455.0,319.6 L 455.8,320.1 L 455.5,322.9 L 461.7,324.7 L 462.5,327.7 L 463.4,327.8 L 464.7,326.2 L 467.2,326.9 L 469.4,329.9 L 469.6,332.6 L 471.2,333.8 L 471.9,333.3 L 476.0,334.7 L 481.1,334.8 L 482.5,335.5 L 487.8,335.3 L 491.1,337.1 L 494.6,334.3 L 498.5,333.7 L 498.3,331.8 L 499.5,331.4 L 498.0,330.3 L 499.5,329.0 L 500.5,326.0 L 501.6,325.5 L 502.5,326.3 L 509.6,327.6 L 510.7,329.2 L 518.1,328.9 L 520.1,327.5 L 526.9,328.3 L 528.4,330.2 L 530.6,330.2 L 533.0,332.2 L 537.6,333.7 L 538.2,334.8 L 543.4,336.3 L 546.4,336.8 L 549.2,335.9 L 549.3,336.6 L 551.4,336.9 L 555.6,335.8 L 558.7,336.2 L 560.3,339.9 L 562.3,341.1 L 565.6,345.9 L 569.0,347.2 L 569.5,348.6 L 576.3,348.3 L 578.2,350.9 L 583.0,350.3 L 587.5,351.3 L 588.8,352.4 L 592.6,353.0 L 592.8,354.0 L 597.9,355.1 L 599.9,357.5 L 602.6,357.5 L 604.2,356.1 L 604.3,357.1 L 602.7,358.2 L 602.6,359.6 L 618.9,359.9 L 623.3,357.6 L 625.3,355.5 L 628.9,354.3 L 638.7,357.7 L 640.7,357.3 L 641.5,357.8 L 641.3,359.6 L 643.8,361.3 L 646.3,359.4 L 651.7,361.8 L 652.7,365.1 L 654.9,366.6 L 655.8,369.8 L 658.3,372.5 L 671.1,373.4 L 679.0,376.9 L 682.9,380.2 L 687.2,382.4 L 687.5,383.9 L 690.4,380.1 L 692.8,379.1 L 697.3,379.0 L 699.1,377.2 L 699.8,372.7 L 700.8,371.3 L 699.1,370.2 L 697.4,367.5 L 698.1,364.5 L 692.5,363.4 L 694.7,362.7 L 696.5,359.5 L 699.1,359.6 L 701.3,355.6 L 700.3,354.5 L 696.7,353.2 L 695.9,350.2 L 691.1,349.2 L 688.1,347.1 L 684.0,349.4 L 681.1,348.0 L 682.1,346.2 L 685.2,343.8 L 684.9,342.1 L 682.6,339.2 L 683.6,335.2 L 683.1,333.8 L 687.6,326.4 L 693.5,322.1 L 696.0,319.2 L 697.9,318.5 L 700.3,313.9 L 706.6,309.9 L 708.8,305.5 L 709.1,303.0 L 712.6,300.7 L 717.3,300.8 L 719.3,298.7 L 720.0,296.0 L 721.6,293.8 L 720.8,292.6 L 721.1,288.8 L 718.2,287.5 L 719.5,283.3 L 719.4,278.8 L 720.2,276.7 L 717.3,274.1 L 716.0,274.1 L 715.4,272.5 L 713.8,272.5 L 710.1,273.6 L 709.9,275.5 L 707.2,277.7 L 703.6,277.8 L 699.8,274.4 L 696.6,274.5 L 695.3,273.4 L 695.8,273.1 L 695.3,271.8 L 693.2,273.5 L 690.8,270.5 L 684.0,270.6 L 683.0,269.1 L 683.4,264.8 L 681.1,259.4 L 681.2,258.1 L 682.9,257.1 L 680.3,253.2 L 679.6,250.1 L 678.4,249.4 L 677.6,249.9 L 678.2,252.4 L 674.1,254.5 L 672.5,257.4 L 671.0,258.2 L 668.6,257.4 L 667.4,258.2 L 669.0,261.1 L 668.3,261.8 L 668.4,264.4 L 667.2,265.9 L 670.1,270.1 L 670.5,272.9 L 672.2,274.5 L 672.0,275.6 L 666.1,277.4 L 665.5,278.9 L 663.9,277.8 L 657.1,276.9 L 652.5,274.1 L 655.9,268.4 L 647.7,262.1 L 647.3,256.4 L 644.4,254.8 L 644.2,252.5 L 641.5,248.3 L 639.2,248.0 L 638.1,246.5 L 636.7,246.8 L 634.2,245.8 L 630.8,241.9 L 629.2,231.5 L 626.8,226.6 L 624.3,226.9 L 624.2,230.5 L 622.3,230.9 L 620.8,233.9 L 621.5,235.6 L 618.0,239.4 L 615.9,240.5 L 615.0,239.4 L 614.2,235.1 L 610.6,234.7 L 604.6,232.2 L 598.8,231.9 L 594.7,232.8 L 593.9,235.1 L 590.2,238.2 L 589.4,237.3 L 587.2,237.1 L 586.5,235.5 L 580.2,237.2 L 576.7,236.4 L 574.7,233.6 L 570.9,231.5 L 568.6,233.0 L 558.3,231.0 L 553.5,233.7 L 552.7,235.6 L 552.9,237.7 L 544.8,245.0 L 545.8,247.7 L 543.8,252.5 L 543.9,254.1 L 541.4,254.7 L 539.6,256.8 L 531.9,255.4 L 528.3,263.5 L 528.6,267.3 L 526.7,267.9 L 523.9,271.2 L 521.0,272.7 L 519.6,276.2 L 519.9,278.9 L 524.2,285.2 L 524.6,288.0 L 522.9,287.4 L 519.4,289.7 L 516.9,289.1 L 513.0,287.6 L 511.3,283.9 L 507.7,281.1 L 505.8,281.6 L 503.8,281.0 L 500.7,283.3 L 499.9,285.3 L 497.3,285.4 L 495.9,287.5 L 491.4,286.7 L 487.7,287.1 L 486.4,288.9 L 486.8,290.7 L 489.5,291.7 L 491.0,293.4 L 490.3,293.9 L 488.7,293.2 L 487.4,295.0 L 485.7,295.8 L 486.4,298.8 L 485.1,300.1 L 481.5,301.6 L 478.2,299.8 L 476.0,300.1 L 474.2,301.6 L 462.3,306.5 L 455.7,311.1 L 451.4,316.0 L 443.0,317.1 L 430.9,316.7 L 430.3,318.5 Z`,
  },
  Gandaki: {
    labelX: 434,
    labelY: 221,
    d: `M 316.1,212.6 L 320.1,216.5 L 316.5,216.9 L 317.3,219.4 L 319.9,220.9 L 320.7,224.8 L 323.0,225.0 L 324.9,229.3 L 327.4,229.4 L 330.2,232.1 L 336.8,234.0 L 340.3,238.5 L 340.2,240.2 L 343.9,241.2 L 347.5,238.5 L 349.3,238.2 L 360.0,247.9 L 362.3,247.2 L 366.9,247.7 L 368.9,246.8 L 371.3,250.3 L 374.5,249.1 L 375.2,250.9 L 374.7,252.6 L 375.7,253.2 L 375.7,254.3 L 377.8,254.1 L 379.8,255.9 L 383.1,255.8 L 385.7,254.3 L 389.4,256.8 L 390.4,259.0 L 393.4,259.5 L 391.8,260.9 L 391.5,263.6 L 396.3,266.6 L 395.6,268.4 L 392.9,270.6 L 390.4,270.4 L 386.9,271.7 L 383.1,269.8 L 378.0,273.9 L 378.1,275.1 L 380.1,274.9 L 382.8,276.1 L 385.1,275.5 L 385.2,274.3 L 386.8,275.8 L 387.7,274.6 L 389.4,275.7 L 392.5,274.3 L 392.6,275.2 L 395.7,276.1 L 397.6,275.8 L 399.4,278.5 L 401.5,278.2 L 403.5,275.7 L 404.2,276.6 L 408.3,276.5 L 410.9,278.5 L 411.1,277.8 L 414.1,277.8 L 418.6,281.7 L 419.9,281.3 L 422.2,282.0 L 422.3,280.8 L 423.6,281.6 L 425.4,280.0 L 429.0,280.6 L 430.4,281.8 L 432.7,281.0 L 433.6,281.7 L 438.3,282.1 L 441.2,283.7 L 441.3,282.8 L 442.5,283.1 L 441.7,284.5 L 442.2,286.1 L 439.3,290.4 L 438.1,294.5 L 432.7,295.5 L 431.0,297.1 L 428.7,296.1 L 428.0,296.8 L 421.9,296.6 L 420.6,298.9 L 415.2,297.5 L 411.5,298.0 L 409.2,299.3 L 408.7,302.1 L 416.3,303.1 L 419.1,303.9 L 420.3,305.1 L 423.7,305.1 L 424.1,306.6 L 422.8,309.8 L 424.9,310.2 L 426.4,314.3 L 428.1,315.1 L 429.8,314.4 L 430.7,315.1 L 430.7,316.8 L 443.0,317.1 L 451.4,316.0 L 454.8,311.9 L 459.6,308.0 L 474.2,301.6 L 475.5,300.3 L 478.2,299.8 L 481.5,301.6 L 485.1,300.1 L 486.4,298.8 L 485.7,295.8 L 487.4,295.0 L 488.7,293.2 L 490.3,293.9 L 491.0,293.4 L 489.5,291.7 L 486.8,290.7 L 486.4,288.9 L 487.7,287.1 L 491.4,286.7 L 495.9,287.5 L 497.3,285.4 L 499.9,285.3 L 500.7,283.3 L 503.8,281.0 L 505.8,281.6 L 507.7,281.1 L 511.3,283.9 L 513.0,287.6 L 516.9,289.1 L 519.4,289.7 L 522.9,287.4 L 524.6,288.0 L 524.2,285.2 L 519.9,278.9 L 519.6,276.2 L 521.0,272.7 L 523.9,271.2 L 526.7,267.9 L 528.6,267.3 L 528.3,263.5 L 531.6,255.7 L 539.6,256.8 L 541.4,254.7 L 543.6,254.4 L 545.8,247.7 L 544.8,245.0 L 552.9,237.7 L 552.7,235.6 L 553.5,233.7 L 557.3,231.2 L 561.2,230.4 L 562.9,225.7 L 561.7,224.6 L 561.3,220.3 L 559.7,219.3 L 562.4,215.7 L 565.8,215.4 L 567.5,210.8 L 569.1,210.7 L 569.8,206.7 L 568.3,204.2 L 569.9,202.6 L 570.5,200.6 L 569.4,200.2 L 569.4,198.9 L 565.9,198.5 L 562.3,194.5 L 557.8,195.9 L 555.3,194.7 L 547.9,202.0 L 547.7,204.0 L 543.4,205.4 L 542.6,203.8 L 541.9,203.8 L 533.0,206.3 L 525.6,202.7 L 519.7,201.6 L 515.7,199.6 L 516.4,196.0 L 512.5,194.5 L 510.0,190.5 L 507.9,189.1 L 502.2,189.1 L 500.1,187.3 L 498.5,188.1 L 495.5,187.6 L 492.7,188.8 L 487.5,185.4 L 488.1,183.7 L 486.6,181.8 L 487.1,179.8 L 485.3,178.8 L 483.1,178.8 L 483.9,176.9 L 482.7,175.8 L 478.3,175.9 L 476.7,174.5 L 474.9,175.4 L 467.9,171.9 L 466.9,172.5 L 463.6,172.3 L 463.3,169.8 L 466.9,158.1 L 466.3,156.5 L 464.2,155.2 L 460.0,155.6 L 459.7,152.7 L 461.4,149.5 L 461.5,147.7 L 458.7,146.7 L 457.3,140.7 L 457.8,139.2 L 460.9,137.8 L 461.5,134.8 L 453.9,135.0 L 451.6,134.0 L 452.4,131.6 L 451.9,130.4 L 449.3,129.2 L 446.8,130.0 L 444.0,128.4 L 442.1,129.9 L 441.1,129.7 L 438.2,128.7 L 439.3,127.5 L 439.0,126.7 L 435.0,125.3 L 433.6,126.7 L 428.5,125.9 L 423.7,127.5 L 422.6,128.6 L 418.8,128.4 L 416.8,130.8 L 417.0,133.8 L 413.3,134.7 L 407.9,134.6 L 404.8,137.7 L 401.4,138.9 L 402.3,143.4 L 403.7,144.3 L 404.2,147.1 L 401.6,147.5 L 400.9,149.2 L 399.9,148.5 L 397.4,150.1 L 399.0,153.5 L 397.8,154.3 L 397.0,156.5 L 397.0,162.1 L 394.5,162.7 L 392.8,165.6 L 384.6,173.6 L 384.6,177.0 L 382.6,177.6 L 382.8,183.5 L 378.7,185.3 L 372.2,186.3 L 369.5,189.2 L 363.7,189.2 L 359.8,190.6 L 357.5,190.3 L 355.1,188.3 L 352.5,189.5 L 348.6,187.9 L 345.7,187.9 L 345.0,189.7 L 345.9,193.3 L 344.6,195.6 L 342.7,196.0 L 342.9,197.8 L 341.9,200.4 L 339.9,200.1 L 336.4,201.6 L 334.6,200.7 L 331.7,201.6 L 328.1,200.8 L 326.2,201.2 L 325.0,202.2 L 324.6,203.9 L 325.4,205.3 L 327.9,206.8 L 326.7,209.9 L 325.5,208.7 L 321.2,207.3 L 320.3,207.6 L 319.6,211.9 L 316.1,212.6 Z`,
  },
  Lumbini: {
    labelX: 293,
    labelY: 251,
    d: `M 116.4,225.3 L 119.2,226.9 L 133.4,229.6 L 135.8,233.5 L 135.7,237.2 L 137.9,240.2 L 144.9,246.6 L 145.4,249.7 L 143.2,250.0 L 145.9,252.0 L 144.8,252.7 L 144.9,253.5 L 150.6,252.4 L 151.4,251.0 L 150.5,250.6 L 151.2,249.1 L 157.2,249.6 L 158.9,250.6 L 159.8,253.5 L 163.0,255.2 L 162.6,258.5 L 163.3,259.4 L 180.5,268.6 L 186.5,269.2 L 197.8,278.0 L 200.9,278.6 L 207.2,283.3 L 211.6,282.7 L 211.7,280.9 L 216.1,275.7 L 227.1,276.1 L 232.7,281.9 L 235.5,282.7 L 236.5,282.1 L 241.9,284.2 L 250.6,290.3 L 260.1,295.5 L 263.1,299.0 L 268.9,301.9 L 271.9,302.2 L 276.4,300.9 L 278.9,301.4 L 289.9,299.0 L 292.7,297.6 L 293.6,298.4 L 297.5,297.9 L 297.4,299.7 L 298.5,301.5 L 298.0,304.0 L 300.5,306.0 L 300.5,309.4 L 302.5,311.9 L 300.8,316.2 L 301.9,318.9 L 300.6,319.6 L 300.4,321.0 L 307.4,321.9 L 310.7,321.1 L 314.0,321.7 L 321.5,321.3 L 324.5,324.7 L 333.2,326.9 L 349.9,326.3 L 352.8,329.8 L 359.3,334.2 L 359.0,336.4 L 361.1,338.7 L 364.3,339.3 L 366.5,339.2 L 368.9,338.0 L 374.0,331.1 L 371.6,327.9 L 373.1,326.9 L 373.5,325.3 L 372.3,324.4 L 373.4,323.7 L 397.5,325.0 L 419.4,334.6 L 424.8,337.7 L 428.9,335.0 L 428.9,333.5 L 425.5,332.9 L 425.2,328.6 L 432.0,326.8 L 432.8,325.4 L 432.7,322.8 L 435.9,320.3 L 434.4,318.7 L 432.2,320.0 L 430.6,319.7 L 430.7,315.1 L 429.8,314.4 L 428.1,315.1 L 426.4,314.3 L 424.9,310.2 L 422.8,309.8 L 424.1,306.6 L 423.7,305.1 L 420.3,305.1 L 419.1,303.9 L 416.3,303.1 L 408.7,302.1 L 409.0,299.8 L 411.5,298.0 L 415.2,297.5 L 420.6,298.9 L 421.9,296.6 L 428.0,296.8 L 428.7,296.1 L 431.0,297.1 L 432.7,295.5 L 438.1,294.5 L 439.3,290.4 L 442.2,286.1 L 441.7,284.5 L 442.5,283.1 L 441.3,282.8 L 441.2,283.7 L 438.3,282.1 L 433.6,281.7 L 432.7,281.0 L 430.4,281.8 L 429.0,280.6 L 425.4,280.0 L 423.6,281.6 L 422.3,280.8 L 422.2,282.0 L 419.9,281.3 L 418.6,281.7 L 414.1,277.8 L 411.1,277.8 L 410.9,278.5 L 408.3,276.5 L 404.2,276.6 L 403.5,275.7 L 401.5,278.2 L 399.4,278.5 L 397.6,275.8 L 395.7,276.1 L 392.6,275.2 L 392.5,274.3 L 389.4,275.7 L 387.7,274.6 L 386.8,275.8 L 385.5,274.3 L 385.1,275.5 L 382.8,276.1 L 380.1,274.9 L 378.3,275.2 L 378.0,273.9 L 383.1,269.8 L 386.9,271.7 L 390.4,270.4 L 392.9,270.6 L 395.6,268.4 L 396.3,266.6 L 391.5,263.6 L 391.8,260.9 L 393.4,259.5 L 390.4,259.0 L 389.4,256.8 L 385.7,254.3 L 383.1,255.8 L 380.2,255.9 L 377.8,254.1 L 375.7,254.3 L 375.7,253.2 L 374.7,252.6 L 375.2,250.9 L 374.5,249.1 L 371.3,250.3 L 368.9,246.8 L 366.9,247.7 L 362.3,247.2 L 360.0,247.9 L 349.3,238.2 L 347.5,238.5 L 343.9,241.2 L 341.3,240.8 L 340.1,240.1 L 340.3,238.5 L 336.8,234.0 L 330.2,232.1 L 327.4,229.4 L 324.9,229.3 L 323.0,225.0 L 320.7,224.8 L 319.9,220.9 L 317.3,219.4 L 316.5,216.9 L 320.1,216.5 L 316.1,212.6 L 319.6,211.9 L 320.3,207.6 L 321.2,207.3 L 325.5,208.7 L 326.7,209.9 L 328.0,207.1 L 324.6,203.9 L 325.8,201.4 L 328.1,200.8 L 331.7,201.6 L 334.6,200.7 L 336.4,201.6 L 339.9,200.1 L 341.9,200.4 L 342.9,197.8 L 342.7,196.0 L 344.6,195.6 L 345.9,193.3 L 345.0,188.5 L 341.3,188.1 L 338.4,183.5 L 337.1,184.0 L 333.6,182.6 L 331.6,182.8 L 329.3,181.5 L 327.2,181.7 L 323.6,178.8 L 315.8,178.6 L 315.6,179.9 L 314.7,180.2 L 311.8,179.8 L 311.7,178.7 L 309.4,178.7 L 303.6,180.7 L 300.5,176.8 L 299.0,177.0 L 296.1,175.2 L 293.4,176.6 L 290.9,174.7 L 288.6,176.4 L 287.0,179.3 L 287.6,181.1 L 281.2,185.5 L 281.6,188.1 L 285.6,188.2 L 286.0,191.2 L 287.2,191.9 L 287.1,194.0 L 285.4,194.6 L 285.1,196.2 L 283.0,196.7 L 280.5,198.9 L 272.8,195.7 L 268.9,195.9 L 267.8,197.4 L 270.1,198.7 L 272.1,198.7 L 275.3,200.6 L 278.8,201.2 L 279.9,200.7 L 279.5,201.6 L 281.2,202.5 L 283.0,202.0 L 283.4,205.0 L 278.3,206.7 L 277.6,207.7 L 278.2,208.4 L 274.1,208.7 L 272.8,210.8 L 270.4,212.0 L 265.2,211.2 L 264.7,214.5 L 263.0,215.1 L 262.6,217.9 L 260.4,218.7 L 261.0,221.6 L 258.1,222.5 L 261.6,227.8 L 261.1,230.2 L 259.6,231.8 L 260.6,232.8 L 260.8,235.0 L 265.7,241.9 L 265.4,243.0 L 263.3,244.5 L 262.2,247.6 L 260.6,247.5 L 258.4,245.5 L 254.6,244.2 L 253.4,241.1 L 250.1,241.1 L 247.3,242.1 L 243.9,241.0 L 241.5,241.6 L 238.7,240.7 L 235.5,241.9 L 234.1,240.7 L 230.3,240.3 L 227.5,241.9 L 225.0,242.0 L 222.7,245.2 L 221.3,250.7 L 220.1,250.9 L 211.3,245.0 L 209.7,242.9 L 206.4,241.8 L 204.6,242.0 L 204.4,240.6 L 201.8,238.4 L 198.1,237.4 L 196.9,237.8 L 196.0,236.3 L 191.7,234.0 L 194.0,228.2 L 189.0,226.8 L 184.5,223.3 L 181.2,222.5 L 170.9,215.1 L 169.2,214.9 L 165.4,211.4 L 161.0,208.7 L 158.4,208.1 L 155.8,204.2 L 144.9,199.6 L 141.5,196.0 L 141.7,198.2 L 140.9,199.2 L 134.9,202.8 L 128.2,212.0 L 124.0,216.2 L 119.2,219.4 L 116.4,225.3 Z`,
  },
  Karnali: {
    labelX: 230,
    labelY: 125,
    d: `M 108.0,167.1 L 112.3,169.7 L 115.5,174.1 L 117.7,174.2 L 118.1,175.3 L 120.9,177.3 L 123.6,176.8 L 125.5,174.6 L 127.1,179.1 L 129.0,178.5 L 132.3,180.4 L 131.5,177.8 L 132.0,175.7 L 132.6,175.9 L 133.1,177.5 L 135.3,178.9 L 136.3,181.2 L 135.2,183.0 L 137.1,184.8 L 138.4,188.4 L 138.0,189.6 L 139.5,190.3 L 139.1,192.3 L 144.9,199.6 L 155.8,204.2 L 158.4,208.1 L 161.0,208.7 L 165.4,211.4 L 169.2,214.9 L 170.9,215.1 L 182.2,223.1 L 184.5,223.3 L 187.8,226.2 L 194.0,228.2 L 191.7,234.0 L 196.0,236.3 L 196.9,237.8 L 198.1,237.4 L 201.8,238.4 L 204.4,240.6 L 204.6,242.0 L 206.4,241.8 L 209.7,242.9 L 211.3,245.0 L 220.1,250.9 L 221.3,250.7 L 222.7,245.2 L 225.0,242.0 L 227.5,241.9 L 230.3,240.3 L 234.1,240.7 L 235.5,241.9 L 238.7,240.7 L 241.5,241.6 L 243.9,241.0 L 247.3,242.1 L 250.1,241.1 L 253.4,241.1 L 254.6,244.2 L 258.4,245.5 L 260.6,247.5 L 262.6,247.2 L 263.3,244.5 L 265.4,243.0 L 265.7,241.9 L 260.8,235.0 L 260.6,232.8 L 259.6,231.8 L 261.1,230.2 L 261.6,227.8 L 258.1,222.5 L 261.0,221.6 L 260.4,218.7 L 262.6,217.9 L 263.0,215.1 L 264.7,214.5 L 265.2,211.2 L 270.4,212.0 L 272.8,210.8 L 274.1,208.7 L 278.0,208.3 L 277.6,207.7 L 278.3,206.7 L 283.4,205.0 L 283.0,202.0 L 281.2,202.5 L 279.5,201.6 L 279.9,200.7 L 278.8,201.2 L 275.3,200.6 L 267.8,197.4 L 268.9,195.9 L 272.8,195.7 L 280.5,198.9 L 283.0,196.7 L 285.1,196.2 L 285.4,194.6 L 287.1,194.0 L 287.2,191.9 L 286.0,191.2 L 285.6,188.2 L 281.6,188.1 L 281.2,185.5 L 287.6,181.1 L 287.0,179.3 L 290.0,175.0 L 290.9,174.7 L 293.4,176.6 L 296.1,175.1 L 299.0,177.0 L 300.5,176.8 L 303.6,180.7 L 309.4,178.7 L 311.7,178.7 L 311.8,179.8 L 314.7,180.2 L 315.6,179.9 L 315.8,178.6 L 323.6,178.8 L 327.2,181.7 L 329.3,181.5 L 331.6,182.8 L 333.6,182.6 L 337.1,184.0 L 338.4,183.5 L 342.2,188.5 L 348.6,187.9 L 352.6,189.5 L 355.1,188.3 L 357.5,190.3 L 359.4,190.6 L 363.7,189.2 L 369.1,189.3 L 372.2,186.3 L 378.7,185.3 L 383.1,183.2 L 382.6,177.6 L 384.6,177.0 L 384.6,173.6 L 392.8,165.6 L 394.5,162.7 L 397.0,162.1 L 397.0,156.5 L 397.8,154.3 L 399.0,153.5 L 397.4,150.1 L 399.9,148.5 L 400.9,149.2 L 401.6,147.5 L 403.7,147.6 L 404.2,146.5 L 403.8,144.5 L 402.5,143.7 L 401.8,141.6 L 400.3,143.3 L 398.6,143.8 L 396.2,141.5 L 394.2,142.2 L 393.0,141.7 L 391.6,138.9 L 388.2,138.8 L 386.2,137.4 L 385.9,136.2 L 386.6,135.2 L 385.7,133.3 L 383.2,132.3 L 382.6,130.7 L 380.4,131.3 L 377.6,127.7 L 378.0,124.0 L 375.1,122.5 L 374.5,120.2 L 375.6,119.5 L 376.0,117.6 L 374.7,115.5 L 369.9,114.7 L 369.4,112.6 L 367.1,110.9 L 367.3,107.9 L 364.2,106.4 L 360.5,107.3 L 358.8,106.4 L 357.2,102.4 L 357.5,101.1 L 359.7,101.2 L 360.0,100.2 L 353.9,98.3 L 352.9,97.4 L 353.2,95.9 L 350.8,95.4 L 348.5,97.4 L 346.8,97.0 L 346.7,94.4 L 342.3,93.7 L 341.9,94.8 L 338.1,96.1 L 336.2,93.7 L 333.8,92.9 L 333.3,91.0 L 331.6,91.3 L 330.3,89.1 L 328.6,89.9 L 327.7,89.3 L 325.4,90.0 L 323.8,89.5 L 322.8,88.6 L 323.3,86.7 L 322.1,85.3 L 321.2,85.9 L 320.0,85.3 L 317.6,85.7 L 317.0,86.6 L 314.1,87.5 L 312.2,86.7 L 310.3,87.0 L 309.0,85.6 L 309.2,83.6 L 306.2,83.7 L 303.2,82.5 L 303.5,81.3 L 302.2,78.7 L 299.1,78.2 L 295.3,79.1 L 295.1,77.7 L 296.0,76.0 L 297.9,75.6 L 300.1,73.7 L 299.2,71.2 L 297.7,71.0 L 295.9,69.2 L 290.0,71.3 L 287.8,70.9 L 290.1,67.4 L 285.6,65.3 L 284.3,62.4 L 281.8,60.6 L 281.4,58.6 L 279.3,57.3 L 277.7,56.8 L 276.6,58.4 L 274.7,59.1 L 272.2,57.7 L 270.8,55.6 L 269.9,55.9 L 266.8,54.5 L 263.0,50.9 L 261.4,50.5 L 261.1,52.1 L 259.3,52.2 L 256.5,48.8 L 255.1,48.3 L 253.9,49.3 L 252.2,49.3 L 250.6,46.9 L 248.2,46.6 L 247.0,45.4 L 244.9,46.4 L 238.8,46.6 L 237.9,44.7 L 239.4,43.7 L 239.3,42.3 L 240.1,41.6 L 238.1,40.6 L 240.9,38.9 L 242.1,37.2 L 239.7,36.1 L 240.2,34.9 L 239.7,33.0 L 236.5,33.0 L 234.3,31.4 L 233.8,29.4 L 231.8,29.4 L 230.7,28.3 L 231.3,26.3 L 232.6,25.3 L 231.7,23.8 L 233.5,21.2 L 231.0,16.3 L 228.3,15.1 L 225.7,17.7 L 221.8,16.7 L 218.8,19.3 L 215.2,17.1 L 215.2,16.1 L 214.0,15.2 L 212.8,16.3 L 211.4,16.3 L 208.0,15.5 L 204.2,12.9 L 200.9,13.4 L 198.5,12.2 L 192.2,12.0 L 190.4,11.1 L 189.5,9.6 L 177.9,5.8 L 178.2,7.8 L 176.4,9.3 L 171.4,7.9 L 171.5,9.4 L 170.2,12.1 L 171.0,13.5 L 170.0,13.9 L 163.5,12.9 L 158.7,9.1 L 154.7,8.8 L 153.7,11.2 L 156.8,12.7 L 155.9,14.0 L 153.2,14.2 L 154.3,17.2 L 153.5,19.3 L 156.1,20.5 L 153.8,22.2 L 153.8,23.4 L 155.5,23.8 L 153.0,26.6 L 153.1,31.5 L 148.5,34.5 L 146.4,37.2 L 144.7,37.4 L 143.3,35.9 L 143.0,36.7 L 138.0,37.7 L 141.6,41.9 L 141.5,45.8 L 139.9,48.7 L 148.0,51.4 L 149.2,52.6 L 151.9,52.6 L 154.5,51.2 L 160.8,53.8 L 161.7,56.7 L 161.2,58.0 L 159.8,58.6 L 160.8,61.8 L 159.8,64.3 L 161.1,65.3 L 165.0,65.1 L 166.6,64.0 L 166.2,62.6 L 167.3,61.6 L 171.1,61.5 L 173.8,60.2 L 175.8,60.8 L 180.4,59.2 L 183.5,59.9 L 185.3,58.9 L 188.5,62.9 L 192.4,63.5 L 196.1,63.0 L 197.6,64.0 L 197.0,69.8 L 194.9,70.8 L 192.6,70.3 L 192.9,72.1 L 190.9,75.1 L 191.3,76.5 L 190.2,78.2 L 189.9,82.4 L 188.2,84.1 L 186.8,89.0 L 187.2,91.9 L 188.4,93.7 L 191.3,95.8 L 195.0,96.0 L 197.0,97.7 L 197.6,101.4 L 195.6,106.3 L 198.1,110.2 L 198.1,115.3 L 191.7,123.7 L 191.5,125.1 L 182.3,126.7 L 180.4,125.2 L 180.4,122.4 L 179.3,121.5 L 174.2,121.7 L 172.0,123.6 L 171.0,122.6 L 169.4,125.1 L 165.6,127.5 L 164.4,129.8 L 161.3,131.9 L 164.1,133.1 L 164.6,135.4 L 163.2,137.1 L 162.8,139.4 L 164.6,144.3 L 167.8,144.6 L 169.2,146.6 L 172.1,147.2 L 166.3,150.9 L 161.7,152.4 L 155.4,159.0 L 155.1,161.2 L 156.4,162.8 L 156.4,164.4 L 158.4,165.4 L 158.8,167.1 L 161.3,168.9 L 162.9,171.6 L 165.6,172.9 L 168.3,176.2 L 171.1,182.6 L 173.6,184.6 L 173.7,186.8 L 167.3,187.9 L 168.4,186.2 L 166.5,184.4 L 167.1,181.8 L 165.3,180.8 L 163.4,177.8 L 160.7,176.5 L 160.9,172.5 L 157.2,170.6 L 154.5,170.4 L 149.6,172.7 L 147.4,172.4 L 146.4,170.8 L 143.2,168.9 L 141.0,169.3 L 139.1,171.2 L 137.0,170.1 L 135.7,171.0 L 132.9,171.0 L 127.9,169.1 L 122.7,164.7 L 118.1,164.5 L 115.5,163.5 L 112.3,165.9 L 110.0,165.7 L 108.0,167.1 Z`,
  },
  Sudurpashchim: {
    labelX: 103,
    labelY: 118,
    d: `M 5.6,173.0 L 7.5,173.5 L 7.9,174.4 L 6.6,177.0 L 8.3,179.4 L 12.9,178.9 L 22.8,186.4 L 27.9,186.9 L 28.9,188.4 L 28.5,190.2 L 30.0,191.6 L 34.6,193.1 L 35.4,196.5 L 38.5,198.2 L 39.6,200.1 L 41.5,200.6 L 46.7,199.6 L 48.8,200.2 L 50.6,201.7 L 52.2,204.3 L 52.0,205.2 L 54.5,205.8 L 56.5,208.6 L 57.5,208.4 L 58.3,206.8 L 57.0,205.6 L 55.3,196.6 L 58.9,194.1 L 62.2,193.9 L 64.7,194.8 L 64.0,196.3 L 65.6,197.3 L 65.3,198.2 L 66.5,197.7 L 68.2,199.3 L 70.4,198.8 L 71.4,199.6 L 73.2,198.7 L 74.4,202.8 L 76.3,203.3 L 76.4,205.2 L 78.3,206.4 L 80.8,206.8 L 81.4,206.2 L 83.6,207.0 L 84.4,208.6 L 85.9,209.2 L 86.6,211.4 L 89.9,212.2 L 92.7,214.9 L 94.9,215.3 L 94.6,213.4 L 98.2,213.4 L 99.5,214.6 L 99.0,216.1 L 100.1,218.6 L 101.9,218.7 L 103.6,217.7 L 102.6,218.9 L 104.1,219.1 L 104.8,220.1 L 107.6,219.1 L 106.0,221.2 L 107.3,221.3 L 110.1,219.5 L 111.6,219.6 L 111.5,221.5 L 113.2,221.0 L 113.8,222.1 L 111.7,223.1 L 113.0,224.7 L 113.8,225.3 L 114.3,223.7 L 116.4,225.3 L 119.2,219.4 L 124.8,215.5 L 131.8,207.8 L 134.4,203.3 L 140.0,200.1 L 141.6,198.4 L 141.7,196.9 L 140.5,193.5 L 139.1,192.3 L 139.5,190.3 L 137.9,189.4 L 138.4,188.4 L 137.1,184.8 L 135.3,183.3 L 136.3,181.2 L 135.3,178.9 L 133.1,177.5 L 132.6,175.9 L 132.0,175.7 L 131.5,177.8 L 132.3,180.4 L 129.0,178.5 L 127.1,179.1 L 125.5,174.6 L 123.6,176.8 L 120.9,177.3 L 118.1,175.3 L 117.7,174.2 L 115.5,174.1 L 111.8,169.3 L 108.0,167.4 L 109.7,165.8 L 112.3,165.9 L 115.1,163.5 L 118.1,164.5 L 122.4,164.6 L 127.9,169.1 L 132.9,171.0 L 135.7,171.0 L 137.0,170.1 L 139.1,171.2 L 141.0,169.3 L 143.2,168.9 L 148.6,172.7 L 151.1,172.3 L 154.9,170.3 L 157.2,170.6 L 160.9,172.5 L 160.7,176.5 L 163.4,177.8 L 165.3,180.8 L 167.1,181.8 L 166.5,184.4 L 168.4,186.2 L 167.3,187.9 L 173.7,186.8 L 173.6,184.6 L 171.1,182.6 L 168.3,176.2 L 165.6,172.9 L 162.9,171.6 L 161.3,168.9 L 158.8,167.1 L 158.4,165.4 L 156.4,164.4 L 156.4,162.8 L 155.1,161.2 L 155.4,159.0 L 161.7,152.4 L 165.9,151.1 L 172.1,147.2 L 169.2,146.6 L 167.8,144.6 L 164.6,144.3 L 162.8,139.4 L 163.2,137.1 L 164.6,135.4 L 164.1,133.1 L 161.3,131.9 L 164.4,129.8 L 165.6,127.5 L 169.4,125.1 L 171.0,122.6 L 172.0,123.6 L 174.2,121.7 L 179.3,121.5 L 180.4,122.4 L 180.4,125.2 L 182.3,126.7 L 191.5,125.1 L 191.7,123.7 L 198.1,115.3 L 198.1,110.2 L 195.6,106.3 L 197.6,101.4 L 197.0,97.7 L 195.0,96.0 L 191.3,95.8 L 188.4,93.7 L 187.2,91.9 L 186.8,89.0 L 188.2,84.1 L 189.9,82.4 L 190.2,78.2 L 191.3,76.5 L 190.9,75.1 L 192.9,72.1 L 192.6,70.3 L 194.9,70.8 L 197.0,69.8 L 197.5,63.8 L 196.1,63.0 L 192.4,63.5 L 188.5,62.9 L 185.3,58.9 L 183.5,59.9 L 180.4,59.2 L 175.8,60.8 L 173.8,60.2 L 171.1,61.5 L 167.3,61.6 L 166.2,62.6 L 166.6,64.0 L 165.0,65.1 L 161.1,65.3 L 159.8,64.3 L 160.8,62.0 L 159.8,58.6 L 161.2,58.0 L 161.7,56.3 L 160.8,53.8 L 158.7,52.6 L 154.5,51.2 L 151.9,52.6 L 149.2,52.6 L 148.0,51.4 L 139.7,48.5 L 136.3,50.0 L 137.6,51.1 L 137.3,51.8 L 134.2,52.9 L 132.2,51.3 L 130.2,52.3 L 124.2,51.7 L 120.0,47.8 L 122.0,44.0 L 121.3,42.9 L 119.1,42.5 L 118.8,37.2 L 117.1,36.6 L 114.7,34.1 L 114.7,31.0 L 112.6,29.2 L 113.1,27.0 L 107.8,24.6 L 104.4,24.6 L 102.7,25.4 L 101.7,25.0 L 102.1,23.7 L 99.7,22.1 L 99.6,21.0 L 95.9,21.3 L 94.4,19.9 L 91.5,20.0 L 88.0,18.9 L 86.2,15.7 L 78.6,9.3 L 75.6,9.1 L 74.4,7.6 L 68.5,4.0 L 67.3,4.4 L 66.6,3.1 L 62.1,3.8 L 61.4,4.9 L 59.3,5.4 L 57.6,8.0 L 58.9,8.9 L 63.4,5.8 L 67.2,6.0 L 70.1,12.0 L 71.7,12.9 L 73.1,16.8 L 77.9,18.1 L 80.8,20.5 L 83.2,21.0 L 83.7,23.7 L 95.7,36.4 L 96.5,39.4 L 92.7,41.1 L 92.8,42.6 L 92.1,43.0 L 90.1,42.9 L 88.4,44.0 L 85.6,47.4 L 83.2,48.7 L 83.1,51.0 L 81.7,53.2 L 79.1,53.5 L 74.0,58.2 L 71.2,58.3 L 69.0,57.3 L 65.1,58.7 L 63.0,61.8 L 62.8,65.0 L 61.1,67.5 L 61.6,67.9 L 60.7,69.6 L 59.1,69.9 L 57.1,72.2 L 55.6,72.5 L 54.0,74.8 L 54.3,75.4 L 48.6,75.1 L 47.8,74.3 L 45.4,75.9 L 44.6,75.6 L 43.5,79.5 L 40.2,80.4 L 40.1,82.7 L 41.3,83.6 L 40.8,84.0 L 42.3,88.5 L 42.8,89.5 L 45.5,90.6 L 46.1,92.2 L 46.2,93.3 L 45.0,93.8 L 44.5,95.1 L 45.1,97.0 L 41.7,100.7 L 40.2,100.4 L 39.6,101.3 L 37.8,101.7 L 37.9,103.0 L 39.2,104.2 L 37.8,105.9 L 34.7,107.3 L 34.5,108.9 L 32.7,108.5 L 31.7,109.9 L 33.2,112.5 L 30.1,111.8 L 29.9,112.6 L 26.6,113.4 L 27.2,114.1 L 26.6,116.6 L 30.2,118.8 L 29.7,121.3 L 30.6,123.5 L 32.4,125.9 L 34.8,127.1 L 34.8,128.6 L 33.4,129.9 L 33.0,134.9 L 32.0,135.8 L 32.5,139.5 L 31.6,139.8 L 28.8,138.6 L 27.5,137.2 L 27.0,139.1 L 30.0,145.4 L 27.6,146.5 L 26.7,148.1 L 23.5,147.6 L 20.7,146.1 L 16.2,149.7 L 14.5,152.9 L 12.1,161.4 L 7.8,167.4 L 5.6,173.0 Z`,
  },
};

function getLeadingParty(results: ConstituencyResult[], province: Province): string | null {
  const rows = results.filter((r) => r.province === province);
  if (!rows.length) return null;

  const tally: Record<string, number> = {};
  for (const r of rows) {
    if (!r.candidates.length) continue;
    const winner = [...r.candidates].sort((a, b) => b.votes - a.votes)[0];
    tally[winner.party] = (tally[winner.party] ?? 0) + 1;
  }

  const top = Object.entries(tally).sort((a, b) => b[1] - a[1])[0];
  return top?.[0] ?? null;
}

// Map Tailwind bg-* classes to actual hex colors for SVG fill
const PARTY_FILL: Record<string, string> = {
  "bg-red-600":     "#dc2626",
  "bg-blue-600":    "#2563eb",
  "bg-orange-600":  "#ea580c",
  "bg-emerald-600": "#059669",
  "bg-slate-500":   "#64748b",
};

export default function NepalMap({
  results,
  selectedProvince,
  onSelect,
}: {
  results: ConstituencyResult[];
  selectedProvince: "All" | Province;
  onSelect: (p: "All" | Province) => void;
}) {
  const provinces = Object.keys(PROVINCE_PATHS) as Province[];

  const leadingParties = useMemo(() => {
    const map: Partial<Record<Province, string | null>> = {};
    for (const p of provinces) {
      map[p] = getLeadingParty(results, p);
    }
    return map;
  }, [results, provinces]);

  return (
    <section className="bg-white rounded-2xl border border-slate-200 p-6 shadow-sm dark:bg-slate-900 dark:border-slate-800">
      <div className="flex items-center justify-between mb-4">
        <div>
          <h2 className="text-lg font-semibold text-slate-900 dark:text-slate-100">Province Map</h2>
          <p className="mt-1 text-sm text-slate-600 dark:text-slate-300">
            Click a province to filter results · Shaded by leading party
          </p>
        </div>
        {selectedProvince !== "All" && (
          <button
            type="button"
            onClick={() => onSelect("All")}
            className="rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold
                       text-slate-700 transition hover:bg-slate-50 active:scale-95
                       dark:bg-slate-900 dark:border-slate-800 dark:text-slate-200 dark:hover:bg-slate-800"
          >
            Clear filter
          </button>
        )}
      </div>

      <svg
        viewBox="0 0 900 450"
        className="w-full h-auto"
        aria-label="Nepal province map"
        role="img"
      >
        {provinces.map((province) => {
          const { d, labelX, labelY } = PROVINCE_PATHS[province];
          const leadParty = leadingParties[province];
          const partyColor = leadParty ? parties[leadParty as keyof typeof parties]?.color : null;
          const fillHex = partyColor ? (PARTY_FILL[partyColor] ?? "#94a3b8") : "#e2e8f0";
          const isSelected = selectedProvince === province;

          return (
            <g
              key={province}
              onClick={() => onSelect(isSelected ? "All" : province)}
              className="cursor-pointer outline-none"
              role="button"
              aria-label={`${province} province${leadParty ? ` — leading: ${leadParty}` : ""}`}
              tabIndex={0}
              onKeyDown={(e) => e.key === "Enter" && onSelect(isSelected ? "All" : province)}
            >
              <path
                d={d}
                fill={fillHex}
                fillOpacity={isSelected ? 1 : 0.65}
                stroke="#94a3b8"
                strokeWidth={1}
                className="transition-all duration-200 hover:fill-opacity-90"
                style={{ outline: "none" }}
              />
              <text
                x={labelX}
                y={labelY}
                textAnchor="middle"
                fontSize="11"
                fontWeight={isSelected ? "700" : "500"}
                fill={isSelected ? "#0f172a" : "#334155"}
                className="pointer-events-none select-none"
              >
                {province}
              </text>
            </g>
          );
        })}
      </svg>

      {/* Legend */}
      <div className="mt-4 flex flex-wrap gap-3">
        {Object.entries(parties).map(([key, { name, color }]) => (
          <div key={key} className="flex items-center gap-1.5 text-xs text-slate-600 dark:text-slate-300">
            <span
              className="h-3 w-3 rounded-full"
              style={{ backgroundColor: PARTY_FILL[color] ?? "#94a3b8" }}
            />
            {name}
          </div>
        ))}
      </div>
    </section>
  );
}
